<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SoundCloud</title>
<style>
  /* ---------- General ---------- */
  body {
    font-family: Arial, Helvetica, sans-serif;
    background:#0F172A;                     /* dark background */
    color:#e5e7eb;                         /* light‚Äëgray text */
    margin:0;
    padding:0;
    min-height:100vh;
    position:relative;
  }
  a{ color:#ff7043; text-decoration:underline; }

  /* ---------- Header ---------- */
  h2.title{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:.5rem;
    margin-top:12px;
    font-size:2rem;
    background:linear-gradient(90deg,#ff8a00,#e91e63);
    -webkit-background-clip:text;
    color:transparent;                    /* shiny gradient title */
  }
  p.under-title{
    text-align:center;
    margin:4px 0 6px;
    font-size:1.1rem;
    background:linear-gradient(90deg,#ff8a00,#e91e63);
    -webkit-background-clip:text;
    color:transparent;                    /* same gradient effect */
  }
  .subheading{
    text-align:center;
    margin-top:5px;
    font-size:1rem;
    background:linear-gradient(90deg,#ff8a00,#e91e63);
    -webkit-background-clip:text;
    color:transparent;
  }

  /* Home button */
  #homeButton {
    display: block;
    text-align: center;
    font-size: 2rem;
    cursor: pointer;
    background: none;
    border: none;
    color: white;
    margin: 10px 0;
  }

  /* Search Bar */
  #searchContainer {
    display: flex;
    justify-content: center;
    margin: 15px 0;
    gap: 10px;
  }
  
  #searchInput {
    padding: 8px 12px;
    border-radius: 5px;
    border: 1px solid #ccc;
    width: 200px;
  }
  
  #searchButton {
    padding: 8px 15px;
    background: #ff7043;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  
  #searchType {
    padding: 8px;
    border-radius: 5px;
    border: 1px solid #ccc;
  }
  
  #backButton {
    padding: 8px 15px;
    background: #555;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin-left: 10px;
    display: none;
  }

  /* ---------- Playlist Grid ---------- */
  #playlistContainer{
    display:flex;
    flex-direction:column;
    align-items:center;
  }
  .playlist-card{
    position:relative;
    display:flex;
    flex-direction:column;
    align-items:center;
    margin:15px auto;
    background:#1e293b;                  /* dark card background */
    border-radius:10px;
    padding:15px;
    box-shadow:0 3px 10px rgba(0,0,0,0.5);
    width:90%;
    max-width:400px;
    cursor:pointer;
    transition:transform .2s;
  }
  .playlist-card:hover{ transform:scale(1.03); }
  .playlist-card img{ width:100%; border-radius:10px; margin-bottom:10px; }
  .playlist-card h3,
  .playlist-card p{
    color:#e5e7eb;                       /* light text inside cards */
  }
  .playlist-card h3{ margin:5px 0; }
  .playlist-card p{ font-size:14px; color:#cbd5e1; }

  /* ID badge (top‚Äëleft) */
  .id-badge{
    position:absolute;
    top:10px;
    left:10px;
    background:#ff7043;
    color:#fff;
    font-size:12px;
    font-weight:bold;
    border-radius:3px;
    padding:2px 5px;
  }

  /* Share button (top‚Äëright) */
  .share-btn{
    position:absolute;
    top:10px;
    right:10px;
    background:rgba(0,0,0,0.5);
    color:#fff;
    border:none;
    border-radius:50%;
    width:30px;
    height:30px;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    font-size:16px;
  }

  /* Archive button */
  .archive-btn{
    position:absolute;
    top:10px;
    right:50px;
    background:rgba(0,0,0,0.5);
    color:#fff;
    border:none;
    border-radius:50%;
    width:30px;
    height:30px;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    font-size:16px;
  }

  /* Open button */
  .open-btn{
    margin-top: 10px;
    padding: 5px 10px;
    background: #ff7043;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  /* ---------- Player Page ---------- */
  #playerPage{ display:none; text-align:center; }
  #playerPage #modeContainer{
    text-align:center;
    margin:12px 0;
    display:none;                        /* shown only when a playlist is opened */
  }
  #playerContainer{
    margin:20px auto;
    width:90%;
    max-width:700px;
  }
  #controls{
    margin:10px 0;
  }
  #controls button{
    padding:10px 20px;
    margin:0 10px;
    border:none;
    border-radius:5px;
    background:#ff7043;
    color:#fff;
    font-size:16px;
    cursor:pointer;
  }
  #backBtn{
    margin:10px;
    padding:8px 15px;
    border:none;
    border-radius:5px;
    background:#555;
    color:#fff;
    font-size:14px;
    cursor:pointer;
  }

  /* Player Search Container */
  #playerSearchContainer {
    display: flex;
    justify-content: center;
    margin: 12px 0;
    gap: 10px;
  }
  
  #playerSearchInput {
    padding: 8px 12px;
    border-radius: 5px;
    border: 1px solid #ccc;
    width: 250px;
    background: #1e293b;
    color: white;
  }
  
  #playerSearchButton {
    padding: 8px 15px;
    background: #ff7043;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  /* ---------- Mode Buttons ---------- */
  .mode-btn{
    padding:8px 16px;
    margin:0 5px;
    border:none;
    border-radius:5px;
    cursor:pointer;
    background:#e0e0e0;
    color:#333;
    font-size:.95rem;
  }
  .mode-btn.active{
    background:#ff7043;
    color:#fff;
  }

  /* ---------- Modal (feedback) ---------- */
  .modal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    align-items:center;
    justify-content:center;
    z-index:2000;
  }
  .modal-content{
    background:#fff;
    padding:20px;
    border-radius:8px;
    text-align:center;
    max-width:90%;
    box-shadow:0 5px 15px rgba(0,0,0,0.3);
  }
  .modal-content p{ margin:10px 0; }

  /* ---------- Footer ---------- */
  .footer{
    text-align:center;
    padding:10px 0;
    background:#1e293b;
    margin-top:40px;
    font-size:.9rem;
    color:#cbd5e1;
  }

  /* ---------- Toast ---------- */
  #toast{
    position:fixed;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    background:#333;
    color:#fff;
    padding:10px 20px;
    border-radius:5px;
    display:none;
    opacity:0;
    transition:opacity .5s;
    z-index:1500;
  }

  /* Fullscreen container */
  #fullscreenContainer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: black;
    z-index: 10000;
    display: none;
    justify-content: center;
    align-items: center;
  }
  
  #fullscreenImage {
    max-width: 90%;
    max-height: 90%;
    object-fit: contain;
  }
  
  #closeFullscreen {
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    font-size: 20px;
    cursor: pointer;
    z-index: 10001;
  }
</style>
</head>
<body>

<button id="homeButton">üè†</button>

<h2 class="title">SoundCloud <span>üéß</span></h2>
<p class="under-title">Every song has a place.</p>
<p class="subheading">A home for every song and every soul ‚Äî explore music beyond limits, across languages, moods, and moments.</p>

<!-- Search Bar -->
<div id="searchContainer">
  <input type="text" id="searchInput" placeholder="Search...">
  <select id="searchType">
    <option value="title">Title</option>
    <option value="id">ID</option>
  </select>
  <button id="searchButton">Search</button>
  <button id="backButton">Back</button>
</div>

<div id="playlistContainer"></div>

<div id="playerPage">
  <button id="backBtn">‚Üê Back</button>

  <!-- Random / Order / Repeat options ‚Äì only visible after a playlist is opened -->
  <div id="modeContainer">
    <button id="randomModeBtn" class="mode-btn">Random</button>
    <button id="orderModeBtn" class="mode-btn">Order</button>
    <button id="repeatModeBtn" class="mode-btn">Repeat</button>
  </div>

  <!-- Player Search Container -->
  <div id="playerSearchContainer">
    <input type="text" id="playerSearchInput" placeholder="Search song in playlist...">
    <button id="playerSearchButton">Search</button>
  </div>

  <div id="playerContainer"></div>
  <div id="controls">
    <button id="prevBtn">‚èÆ Previous</button>
    <button id="nextBtn">‚è≠ Next</button>
  </div>
</div>

<div id="feedbackModal" class="modal">
  <div class="modal-content">
    <p>üîê Login or sign up with GitHub to give the feedback.</p>
    <p>üì∫ Or click the video link <a href="https://archive.org/details/panfda" target="_blank">here</a> to know how to give feedback.</p>
    <p>Redirecting in <span id="countdown">5</span> seconds...</p>
  </div>
</div>

<!-- Fullscreen container for images -->
<div id="fullscreenContainer">
  <button id="closeFullscreen">‚úñ</button>
  <img id="fullscreenImage" src="" alt="Fullscreen Image">
</div>

<div id="toast"></div>

<footer class="footer">¬© 2026 SoundCloud¬∑ Built with ‚ù§Ô∏è by YAN</footer>

<script src="https://w.soundcloud.com/player/api.js"></script>
<script>
/* ---------- Global Variables ---------- */
const playlistContainer = document.getElementById('playlistContainer');
const playerPage        = document.getElementById('playerPage');
const playerContainer   = document.getElementById('playerContainer');
const backBtn           = document.getElementById('backBtn');
const prevBtn           = document.getElementById('prevBtn');
const nextBtn           = document.getElementById('nextBtn');
const feedbackModal     = document.getElementById('feedbackModal');
const countdownElm      = document.getElementById('countdown');
const toastElm          = document.getElementById('toast');
const randomModeBtn     = document.getElementById('randomModeBtn');
const orderModeBtn      = document.getElementById('orderModeBtn');
const repeatModeBtn     = document.getElementById('repeatModeBtn');
const modeContainer     = document.getElementById('modeContainer');
const homeButton        = document.getElementById('homeButton');
const fullscreenContainer = document.getElementById('fullscreenContainer');
const fullscreenImage     = document.getElementById('fullscreenImage');
const closeFullscreen     = document.getElementById('closeFullscreen');

// Search elements
const searchInput       = document.getElementById('searchInput');
const searchButton      = document.getElementById('searchButton');
const searchType        = document.getElementById('searchType');
const backButton        = document.getElementById('backButton');

// Player search elements
const playerSearchInput  = document.getElementById('playerSearchInput');
const playerSearchButton = document.getElementById('playerSearchButton');

let widget          = null;          // SoundCloud widget
let currentPlaylist = [];           // array of tracks
let currentIndex    = 0;
let allPlaylists    = [];           // data.json
let playMode        = 'order';      // default
let filteredPlaylists = [];         // for search results
let autoOpenPlaylistId1 = false;   // flag to auto-open playlist with ID 1
let playlistLoadedReady = false;   // flag to track when playlist is loaded

const SHARE_REDIRECT_BASE =
  'https://yan-1-related-1.github.io/yan-1-website-shared-links-redirecting/songs-content-page-shared-links-redirecting.html?playlist_id=';

/* ---------- Helper Functions ---------- */
function showToast(msg){
  toastElm.textContent = msg;
  toastElm.style.display = 'block';
  toastElm.style.opacity = '1';
  setTimeout(()=>{
    toastElm.style.opacity = '0';
    setTimeout(()=> toastElm.style.display = 'none', 500);
  },3000);
}
function copyToClipboard(text){
  if (navigator.clipboard && navigator.clipboard.writeText){
    navigator.clipboard.writeText(text)
      .then(()=>showToast('Link copied to clipboard!'))
      .catch(()=>showToast('Failed to copy link.'));
  }else{
    const textarea = document.createElement('textarea');
    textarea.value = text;
    textarea.style.position = 'fixed';
    document.body.appendChild(textarea);
    textarea.focus();
    textarea.select();
    try{
      document.execCommand('copy');
      showToast('Link copied to clipboard!');
    }catch(e){
      showToast('Failed to copy link.');
    }
    document.body.removeChild(textarea);
  }
}
function sharePlaylist(pl){
  const link = SHARE_REDIRECT_BASE + encodeURIComponent(pl.id);
  if (navigator.share){
    navigator.share({title:pl.title,url:link})
      .catch(err=>console.warn('Share cancelled',err));
  }else{
    copyToClipboard(link);
  }
}
function setPlayMode(mode){
  playMode = mode;
  randomModeBtn.classList.toggle('active', mode==='random');
  orderModeBtn.classList.toggle('active', mode==='order');
  repeatModeBtn.classList.toggle('active', mode==='repeat');
}

// Function to convert archive.org details URL to embed image URL
function convertToEmbedImageUrl(detailsUrl) {
  // Extract identifier from URL (everything after /details/)
  const parts = detailsUrl.split('/details/');
  if (parts.length < 2) return detailsUrl;
  
  const identifier = parts[1].split('?')[0].split('#')[0]; // Remove query params and fragments
  // Construct embed image URL
  return `https://archive.org/services/img/${identifier}`;
}

/* ---------- Search Functionality ---------- */
function performSearch() {
  const searchTerm = searchInput.value.trim().toLowerCase();
  const searchBy = searchType.value;
  
  if (!searchTerm) {
    filteredPlaylists = [...allPlaylists];
  } else {
    if (searchBy === 'title') {
      filteredPlaylists = allPlaylists.filter(pl => 
        pl.title.toLowerCase().includes(searchTerm)
      );
    } else if (searchBy === 'id') {
      filteredPlaylists = allPlaylists.filter(pl => 
        String(pl.id).includes(searchTerm)
      );
    }
  }
  
  // Show back button when search is performed
  backButton.style.display = 'inline-block';
  
  // Render the filtered results
  renderPlaylists();
}

function resetSearch() {
  searchInput.value = '';
  filteredPlaylists = [...allPlaylists];
  backButton.style.display = 'none';
  renderPlaylists();
}

/* ---------- Player Search Functionality ---------- */
function searchInPlaylist() {
  const searchTerm = playerSearchInput.value.trim().toLowerCase();
  
  if (!searchTerm) {
    showToast('Please enter a song name to search');
    return;
  }
  
  if (!playlistLoadedReady) {
    showToast('Playlist not loaded yet');
    return;
  }
  
  if (!currentPlaylist.length) {
    showToast('No tracks in playlist');
    return;
  }
  
  // Search for the song in the current playlist
  const foundIndex = currentPlaylist.findIndex(track => {
    // Check multiple track properties for the search term
    const title = track.title ? track.title.toLowerCase() : '';
    const username = track.user ? track.user.username ? track.user.username.toLowerCase() : '' : '';
    
    return title.includes(searchTerm) || username.includes(searchTerm);
  });
  
  if (foundIndex !== -1) {
    // Song found, play it
    playTrack(foundIndex);
    showToast(`Playing: ${currentPlaylist[foundIndex].title}`);
  } else {
    showToast('Song not found in this playlist');
  }
}

/* ---------- UI Rendering ---------- */
function renderPlaylists(){
  playlistContainer.innerHTML = '';
  
  // If no results found
  if (filteredPlaylists.length === 0) {
    playlistContainer.innerHTML = '<p style="color: #e5e7eb; text-align: center;">No playlists found.</p>';
    return;
  }
  
  filteredPlaylists.forEach(pl => {
    const card = document.createElement('div');
    card.className = 'playlist-card';
    card.innerHTML = `
      <span class="id-badge">ID: ${pl.id}</span>
      <button class="share-btn" title="Share">üîó</button>
      <button class="archive-btn" title="GameVault">‚õ∂</button>
      <img src="${convertToEmbedImageUrl(pl.image_url)}" alt="${pl.title}">
      <h3>${pl.title}</h3>
      <p>${pl.description}</p>
      <button class="open-btn">Open</button>
    `;

    // Open player (ignore share/archive buttons)
    card.querySelector('.open-btn').addEventListener('click', e=>{
      e.stopPropagation();
      openPlaylistPage(pl.playlist_link);
    });

    // Share button
    card.querySelector('.share-btn')
        .addEventListener('click', e=>{
          e.stopPropagation();
          sharePlaylist(pl);
        });

    // Archive button
    card.querySelector('.archive-btn')
        .addEventListener('click', e=>{
          e.stopPropagation();
          const embedImageUrl = convertToEmbedImageUrl(pl.image_url);
          openImageFullscreen(embedImageUrl);
        });

    playlistContainer.appendChild(card);
  });

  // Auto-open playlist with ID 1 on first load
  if (autoOpenPlaylistId1) {
    const playlistWithId1 = allPlaylists.find(pl => String(pl.id) === '1');
    if (playlistWithId1) {
      openPlaylistPage(playlistWithId1.playlist_link);
    }
    autoOpenPlaylistId1 = false; // Only auto-open once
  }
}

/* ---------- Player Logic ---------- */
function openPlaylistPage(link){
  playlistContainer.style.display = 'none';
  playerPage.style.display = 'block';
  modeContainer.style.display = 'block';      // show Random/Order/Repeat options
  playerSearchInput.value = ''; // Clear previous search
  playlistLoadedReady = false; // Reset playlist loaded flag
  loadPlaylist(link);
}
backBtn.addEventListener('click', ()=>{
  playerPage.style.display = 'none';
  playlistContainer.style.display = 'block';
  modeContainer.style.display = 'none';       // hide again
  playerContainer.innerHTML = '';
  widget = null;
  playlistLoadedReady = false;
});
function loadPlaylist(link){
  playerContainer.innerHTML = `
    <iframe id="scPlayer" width="100%" height="450" scrolling="no" frameborder="no"
            allow="autoplay"
            src="https://w.soundcloud.com/player/?url=${encodeURIComponent(link)}&auto_play=true">
    </iframe>`;
  const iframe = document.getElementById('scPlayer');
  widget = SC.Widget(iframe);

  widget.bind(SC.Widget.Events.READY, ()=>{
    playlistLoadedReady = true;
    widget.getSounds(sounds=>{
      if (sounds && Array.isArray(sounds)) {
        currentPlaylist = sounds;
        // Debug: log the structure of the first track to check available properties
        if (sounds.length > 0) {
          console.log('Track structure:', sounds[0]);
        }
        // start index according to mode
        currentIndex = (playMode==='order')
          ? 0
          : Math.floor(Math.random()*sounds.length);
        playTrack(currentIndex);
      } else {
        showToast('Failed to load playlist tracks');
        currentPlaylist = [];
      }
    });
    
    // Also track current song for debugging
    widget.bind(SC.Widget.Events.PLAY, () => {
      widget.getCurrentSound(currentSound => {
        if (currentSound) {
          console.log('Current song:', currentSound);
        }
      });
    });
  });

  widget.bind(SC.Widget.Events.FINISH, ()=>{
    if(!currentPlaylist.length) return;
    if(playMode==='repeat'){
      // In repeat mode, replay the same track
      playTrack(currentIndex);
    }else if(playMode==='random'){
      const nextIdx = Math.floor(Math.random()*currentPlaylist.length);
      playTrack(nextIdx);
    }else{
      const nextIdx = (currentIndex+1)%currentPlaylist.length;
      playTrack(nextIdx);
    }
  });
}
function playTrack(idx){
  currentIndex = idx;
  widget.skip(currentIndex);
  widget.play();
}
nextBtn.addEventListener('click', ()=>{
  if(!currentPlaylist.length) return;
  if(playMode==='repeat'){
    // In repeat mode, replay the same track
    playTrack(currentIndex);
  }else if(playMode==='random'){
    const nextIdx = Math.floor(Math.random()*currentPlaylist.length);
    playTrack(nextIdx);
  }else{
    const nextIdx = (currentIndex+1)%currentPlaylist.length;
    playTrack(nextIdx);
  }
});
prevBtn.addEventListener('click', ()=>{
  if(!currentPlaylist.length) return;
  if(playMode==='repeat'){
    // In repeat mode, replay the same track
    playTrack(currentIndex);
  }else if(playMode==='random'){
    const prevIdx = Math.floor(Math.random()*currentPlaylist.length);
    playTrack(prevIdx);
  }else{
    const prevIdx = (currentIndex-1+currentPlaylist.length)%currentPlaylist.length;
    playTrack(prevIdx);
  }
});

/* ---------- URL handling (shared link) ---------- */
function initFromURL(){
  const params = new URLSearchParams(window.location.search);
  const pid = params.get('playlist_id');
  if(pid){
    const pl = allPlaylists.find(p=>String(p.id)===pid);
    if(pl) openPlaylistPage(pl.playlist_link);
    return true; // URL parameter found and processed
  }
  return false; // No URL parameter
}

/* ---------- Feedback Modal ---------- */
feedbackModal.addEventListener('click', ()=>{
  feedbackModal.style.display = 'flex';
  let remaining = 5;
  countdownElm.textContent = remaining;
  const interval = setInterval(()=>{
    remaining--;
    if(remaining>0){
      countdownElm.textContent = remaining;
    }else{
      clearInterval(interval);
      feedbackModal.style.display = 'none';
      window.location.href = 'https://github.com/OpenThoughtVoice/OpenThoughtVoice/discussions/5';
    }
  },1000);
});

/* ---------- Mode Buttons ---------- */
randomModeBtn.addEventListener('click', ()=>setPlayMode('random'));
orderModeBtn.addEventListener('click', ()=>setPlayMode('order'));
repeatModeBtn.addEventListener('click', ()=>setPlayMode('repeat'));
setPlayMode(playMode);  // initialise active state

/* ---------- Player Search Event Listeners ---------- */
playerSearchButton.addEventListener('click', searchInPlaylist);
playerSearchInput.addEventListener('keyup', (e) => {
  if (e.key === 'Enter') {
    searchInPlaylist();
  }
});

/* ---------- Home Button ---------- */
homeButton.addEventListener('click', () => {
  window.location.href = 'https://yan-shun-081.github.io/yan-1-website.com/';
});

/* ---------- Archive Fullscreen ---------- */
function openImageFullscreen(imageUrl) {
  fullscreenImage.src = imageUrl;
  fullscreenContainer.style.display = 'flex';
  document.body.style.overflow = 'hidden';
  
  // Try to use native fullscreen API
  if (fullscreenContainer.requestFullscreen) {
    fullscreenContainer.requestFullscreen();
  } else if (fullscreenContainer.mozRequestFullScreen) { /* Firefox */
    fullscreenContainer.mozRequestFullScreen();
  } else if (fullscreenContainer.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
    fullscreenContainer.webkitRequestFullscreen();
  } else if (fullscreenContainer.msRequestFullscreen) { /* IE/Edge */
    fullscreenContainer.msRequestFullscreen();
  }
}

closeFullscreen.addEventListener('click', () => {
  // Exit fullscreen if supported
  if (document.exitFullscreen) {
    document.exitFullscreen();
  } else if (document.mozCancelFullScreen) { /* Firefox */
    document.mozCancelFullScreen();
  } else if (document.webkitExitFullscreen) { /* Chrome, Safari & Opera */
    document.webkitExitFullscreen();
  } else if (document.msExitFullscreen) { /* IE/Edge */
    document.msExitFullscreen();
  }
  
  // Hide the container
  fullscreenContainer.style.display = 'none';
  document.body.style.overflow = '';
});

// Handle escape key to close fullscreen
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && fullscreenContainer.style.display === 'flex') {
    closeFullscreen.click();
  }
});

// Search event listeners
searchButton.addEventListener('click', performSearch);
backButton.addEventListener('click', resetSearch);

// Allow Enter key to trigger search
searchInput.addEventListener('keyup', (e) => {
  if (e.key === 'Enter') {
    performSearch();
  }
});

/* ---------- Data Load ---------- */
fetch('data.json')
  .then(r=>r.json())
  .then(data=>{
    allPlaylists = data;   // expects id, title, description, image_url, playlist_link
    filteredPlaylists = [...allPlaylists]; // Initialize filtered playlists
    
    // Check if URL has playlist_id parameter first
    const hasUrlPlaylist = initFromURL();
    
    // If no URL playlist parameter, auto-open playlist with ID 1
    if (!hasUrlPlaylist) {
      autoOpenPlaylistId1 = true;
    }
    
    renderPlaylists();
  })
  .catch(err=>{
    console.error('Failed to load data.json', err);
    playlistContainer.innerHTML = "<p style='color:red;'>Failed to load playlists.</p>";
  });
</script>
</body>
</html>
